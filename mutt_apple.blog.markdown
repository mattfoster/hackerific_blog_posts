Type: Blog Post (Markdown)
Blog: my-mili.eu
Link: http://blog.my-mili.eu/articles/2007/10/26/making-vnc-work-properly-over-ssh
Post: 6
Title: Making mutt play with Apple.
Keywords:  
Format: markdown
Date: 2007-10-26 08:18:00 +0000
Pings: On
Comments: On

A while ago, I moved from [mutt](http://www.mutt.org/ "The Mutt E-Mail Client") (with
[procmail](http://www.procmail.org/ "Procmail Homepage"), [exim](http://www.exim.org/
"exim Internet Mailer") and [fetchmail](http://catb.org/~esr/fetchmail/ "The fetchmail
home page")) on my work machine, to [gmail](http://www.gmail.com), which works
everywhere, and since then I'd really missed mutt, especially threading and
[GPG](http://www.gnupg.org/ "The GNU Privacy Guard - GnuPG.org").

That's why when I heard that gmail were offering IMAP connectivity, I fired up
[MacPorts](http://www.macports.org/ "MacPorts") and built, installed and set up mutt on
my MacBook. I followed the instructions on [johnlawrence.net](
"http://www.johnlawrence.net/index.php/2007/10/27/gmail-imap-and-mutt-on-osx/"), and was
up and running in no time. Incidentally, if you're looking for a good starting point for
configuring mutt, have a look at [Tom's
.muttrc](http://linuxbrit.co.uk/downloads/dot.muttrc), it's heavily commented and has
good defaults for everything.

One of the things I used to like about mutt under linux, was the fact that I could use a
custom signature, generated by a script. I used to use [MPD](http://www.musicpd.org/
"MPD: Music Player Daemon"), and add my currently playing song to my outgoing emails.
I'm not really sure why I bothered with this, I just like it! This post is about my
adapted version of the script which uses [AppleScript](http://www.apple.com/applescript/
"AppleScript: The Language of Automation") to get the current track from itunes, and use
that as my signature.

My starting point was recipe 21.16 in the [Ruby
Cookbook](http://www.oreilly.com/catalog/rubyckbk/ "oreilly.com -- Online Catalog: Ruby
Cookbook"), which showed me how to write AppleScript into ruby scripts. After that, I
googled a bit, found out how to get track info from iTunes. You can find the result in
my SVN repository at [signature.rb](http://svn.my-mili.eu/svn/ruby_chunks/signature.rb).

To get it going, download it, then run it. After you've done that, edit the file 
`~/.signature.rc` to contain *your* details instead of mine. Do it now!

![signature.rb_screenshot](http://blog.my-mili.eu/files/2007-11-12_signaturerb_screenshot.jpg)
